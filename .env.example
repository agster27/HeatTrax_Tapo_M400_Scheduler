# HeatTrax Tapo M400 Scheduler - Environment Variables Example
#
# Copy this file to .env and fill in your values
# IMPORTANT: Add .env to .gitignore to prevent committing secrets!
# All HeatTrax environment variables use the HEATTRAX_ prefix

# System Settings
TZ=America/New_York

# Location Settings (Required)
HEATTRAX_LATITUDE=40.7128
HEATTRAX_LONGITUDE=-74.0060
HEATTRAX_TIMEZONE=America/New_York

# Weather API Settings
# Enable/disable weather-based scheduling (default: true)
# When disabled, uses fixed schedule behavior instead of weather forecasts
HEATTRAX_WEATHER_ENABLED=true
# Provider: 'openweathermap' or 'open-meteo' (default: open-meteo)
HEATTRAX_WEATHER_PROVIDER=open-meteo
# HEATTRAX_OPENWEATHERMAP_API_KEY=your_api_key_here  # Required only if provider is 'openweathermap'

# Tapo Device Settings (Required - KEEP THESE SECRET!)
# Note: Device IP addresses are configured in config.yaml under devices.groups
# These environment variables only override credentials and other settings
HEATTRAX_TAPO_USERNAME=your_tapo_username
HEATTRAX_TAPO_PASSWORD=your_tapo_password

# Weather Thresholds
HEATTRAX_THRESHOLD_TEMP_F=34
HEATTRAX_LEAD_TIME_MINUTES=60
HEATTRAX_TRAILING_TIME_MINUTES=60

# Scheduler Settings
HEATTRAX_CHECK_INTERVAL_MINUTES=10
HEATTRAX_FORECAST_HOURS=12

# Safety Settings
HEATTRAX_MAX_RUNTIME_HOURS=6
HEATTRAX_COOLDOWN_MINUTES=30

# Morning Mode Settings
HEATTRAX_MORNING_MODE_ENABLED=true
HEATTRAX_MORNING_MODE_START_HOUR=6
HEATTRAX_MORNING_MODE_END_HOUR=8

# Logging
HEATTRAX_LOG_LEVEL=INFO

# Health Check Settings (optional)
# HEATTRAX_HEALTH_CHECK_INTERVAL_HOURS=24
# HEATTRAX_HEALTH_CHECK_MAX_FAILURES=3

# Reboot Settings (optional)
# Pause duration (in seconds) before container restart on critical failures
# This allows time for console troubleshooting before automatic restart
# Default: 60 seconds
# HEATTRAX_REBOOT_PAUSE_SECONDS=60

# Health Check HTTP Server Settings (optional)
# Enable HTTP server for health check endpoints (default: true)
# HEATTRAX_HEALTH_SERVER_ENABLED=true
# HEATTRAX_HEALTH_SERVER_HOST=0.0.0.0
# HEATTRAX_HEALTH_SERVER_PORT=8080

# ============================================================================
# NOTIFICATION SYSTEM SETTINGS
# ============================================================================
# The notification system sends alerts for device health events (device lost,
# connectivity issues, IP changes, etc.). Configure email and/or webhook
# notifications below.

# Global Notification Settings
# ----------------------------
# HEATTRAX_NOTIFICATIONS_REQUIRED: If true, misconfigured enabled providers
#   cause startup failure. If false (default), log errors but allow startup.
# HEATTRAX_NOTIFICATIONS_TEST_ON_STARTUP: If true, send test notification
#   on successful startup to verify notification system is working.
# HEATTRAX_NOTIFICATIONS_REQUIRED=false
# HEATTRAX_NOTIFICATIONS_TEST_ON_STARTUP=false

# Email Notifications (optional, default: disabled)
# -------------------------------------------------
# Enable email notifications and configure SMTP settings for your email provider.
# For Gmail, you'll need to create an App Password (not your regular password).
# HEATTRAX_NOTIFICATION_EMAIL_ENABLED=false
# HEATTRAX_NOTIFICATION_EMAIL_SMTP_HOST=smtp.gmail.com
# HEATTRAX_NOTIFICATION_EMAIL_SMTP_PORT=587
# HEATTRAX_NOTIFICATION_EMAIL_SMTP_USERNAME=your_email@gmail.com
# HEATTRAX_NOTIFICATION_EMAIL_SMTP_PASSWORD=your_app_password
# HEATTRAX_NOTIFICATION_EMAIL_FROM=your_email@gmail.com
# HEATTRAX_NOTIFICATION_EMAIL_TO=recipient1@example.com,recipient2@example.com
# HEATTRAX_NOTIFICATION_EMAIL_USE_TLS=true

# Webhook Notifications (optional, default: disabled)
# ---------------------------------------------------
# Enable webhook notifications to send alerts to a custom HTTP endpoint.
# Useful for integration with services like Discord, Slack, or custom APIs.
# HEATTRAX_NOTIFICATION_WEBHOOK_ENABLED=false
# HEATTRAX_NOTIFICATION_WEBHOOK_URL=https://your-webhook-url.com/notifications

# Forecast Summary Notifications (optional, default: disabled)
# ------------------------------------------------------------
# Send human-friendly forecast summaries via email/webhook after each weather fetch.
# HEATTRAX_NOTIFICATION_FORECAST_ENABLED=false
# HEATTRAX_NOTIFICATION_FORECAST_NOTIFY_MODE=always  # "always" or "on_change"

# Optional: Custom config file path
# HEATTRAX_CONFIG_PATH=/custom/path/to/config.yaml

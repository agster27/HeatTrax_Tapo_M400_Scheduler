version: '3.8'

services:
  heattrax-scheduler:
    build: .
    container_name: heattrax-scheduler
    restart: unless-stopped
    volumes:
      - ./config.yaml:/app/config.yaml:ro
      - ./logs:/app/logs
      - ./state:/app/state
    environment:
      - TZ=America/New_York
      # Uncomment to override config values with environment variables:
      # - TAPO_USERNAME=${TAPO_USERNAME}
      # - TAPO_PASSWORD=${TAPO_PASSWORD}
      # - TAPO_IP_ADDRESS=192.168.1.100
      # - LATITUDE=40.7128
      # - LONGITUDE=-74.0060
      # - THRESHOLD_TEMP_F=34
      # - LOG_LEVEL=INFO
      # See README.md for full list of supported environment variables
    network_mode: host
    
    # Alternative: Use .env file for all environment variables
    # Create a .env file from .env.example and uncomment the line below:
    # env_file:
    #   - .env
